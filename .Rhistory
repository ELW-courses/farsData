library(devtools)
library(roxygen2)
use_readme_rmd()
vignette("rd")
vignette("rd-other")
fars_read <- function(filename) {
if(!file.exists(filename))
stop("file '", filename, "' does not exist")
data <- suppressMessages({
readr::read_csv(filename, progress = FALSE)
})
dplyr::tbl_df(data)
}
fars_read("accident_2013.csv.bz2")
library(usethis)
use_data_raw(name = "accident_2013")
accident_2013 <- read.csv("data-raw/accident_2013.csv.bz2")
head(accident_2013)
accident_2014 <- read.csv("data-raw/accident_201.csv.bz2")
accident_2014 <- read.csv("data-raw/accident_2014.csv.bz2")
accident_2015 <- read.csv("data-raw/accident_2015.csv.bz2")
use_data_raw("accident_2013")
## code to prepare `accident_2013` dataset goes here
library(readr)
accident_2013 <- read.csv("data-raw/accident_2013.csv.bz2")
usethis::use_data(accident_2013, overwrite = TRUE)
use_data_raw("accident_2014")
library(readr)
accident_2014 <- read.csv("data-raw/accident_2014.csv.bz2")
usethis::use_data(accident_2014, overwrite = TRUE)
use_data_raw("accident_2015")
library(readr)
accident_2015 <- read.csv("data-raw/accident_2015.csv.bz2")
usethis::use_data(accident_2015, overwrite = TRUE)
load_all()
system.file()
system.file("extdata", pacakge = "readr")
system.file("extdata", pacakge = "readr") |> list.files()
system.file("extdata", pacakge = "readcsv") |> list.files()
system.file("extdata", pacakge = "readr") |> list.files()
use_citation()
load_all()
fars_read("accident_2013.csv.bz2")
library(usethis)
library(roxygen2)
library(devtools)
document()
use_package("dplyr")
use_package("maps")
use_package("readr")
use_package("tidyr")
use_mit_license()
load_all
load_all()
fars_read("inst-extdata/accident_2013.csv.bz2")
fars_read("inst/extdata/accident_2013.csv.bz2")
data2013 <- fars_read("inst/extdata/accident_2013.csv.bz2")
head(data2013)
make_filename("2013")
data2013 <- fars_read(make_filename("2013"))
head(data2013)
fars_read_years(c(2014, 20155))
fars_read_years(c(2014, 2015))
newData <- fars_read_years(c(2014, 2015))
head(new_rowwise_df())
head(newData
)
fars_summarize_years(c(2014, 2015))
fars_map_state(12, 2014)
fars_map_state(12, 2015)
fars_map_state(12, 2013)
fars_map_state(47, 2013)
TN_2013 <- fars_map_state(47, 2013)
plot(TN_2013)
map(TN_2013)
TN_2013
fars_map_state(47, 2013)
use_testthat(3)
library(testthat)
test_that("FARS read_years test", {expect_that(fars_read_years(c(2014, 2015)), is_a("list"))})
test_that("FARS read_years test", {expect_type(fars_read_years(c(2014, 2015)), "list")})
test_that("FARS read_years test", {expect_that(fars_read_years(c(201)), gives_warning())})
test_that("FARS read_years test", {expect_warning(fars_read_years(c(201))})
test_that("FARS read_years test", {expect_warning(fars_read_years(c(201)))})
test_that("FARS read_years test", {expect_warning(fars_read_years(c(2016)))})
test_that("FARS read_years test", {expect_warning(fars_read_years(2016))})
fars_read_years(2016)
test_that("FARS read_years test", {expect_error(fars_read_years(2016))})
make_filename(2012)
fars_read(make_filename(2012))
fars_map_state(54, 2015)
fars_map_state(59, 2015)
fars_map_state(57, 2015)
fars_map_state(55, 2015)
fars_map_state(47, 2015)
p<- fars_map_state(47, 2015)
expect_type(fars_summarize_years(2015),"tbl_df")
expect_type(fars_summarize_years(2015),"list")
test_that("FARS test", {expect_type(fars_reafars_summarize_years(2016), "list")})
test_that("FARS test", {expect_type(fars_summarize_years(2016), "list")})
test_that("FARS test", {expect_type(fars_summarize_years(2014), "list")})
make_filename("2015")
system.file("extdata")
system.file("extdata", package = "farsData")
cat(system.file("extdata", package = "farsData"), "accident")
cat(system.file("extdata", package = "farsData"), "/accident")
cat(system.file("extdata", package = "farsData"), "/accident", sep = "")
vignette("test-fixtures")
make_filename(2015)
cat(system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2", sep = "")
paste0('"',cat(system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2", sep = ""),'"')
paste0('"',system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2",'"')
expect_match(make_filename(2015), paste0('"',system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2",'"')
)
make_filename(2015)
paste0('"',system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2",'"')
shQuote(system.file("extdata", package = "farsData"), "/accident_2015.csv.bz2")
shQuote(system.file("extdata", package = "farsData"))
shQuote(paste0(system.file("extdata", package = "farsData"),"/accident"))
grepl(make_filename(2015), "/extdata", "")
grepl(get(make_filename(2015)), "/extdata", "")
make_filename(2015)
sub(".*?/extdata/","",make_filename(2015)
)
use_vignette("farsData_useage")
list.files(system.file("extdata", package = 'farsData'))
for i in seq_along(list.files(system.file("extdata", package = 'farsData')){cat(paste0(i, "\n"))}
for (i in seq_along(list.files(system.file("extdata", package = 'farsData'))){cat(paste0(i, "\n"))}
stack(list.files(system.file("extdata", package = 'farsData')))
print(stack(list.files(system.file("extdata", package = 'farsData'))))
cat(list.files(system.file("extdata", package = 'farsData')) sep = "\n")
cat(list.files(system.file("extdata", package = 'farsData')), sep = "\n")
document()
library(devtools)
library(usethis)
library()
library(roxygen2)
document
document()
library(rrtools)
install.packages("rrtools")
use_travis()
usethis::use_travis()
usethis::use_github_action("check-release")
